# UnivVKBot

## Описание
Данный проект представляет собой бота для социальной сети ВКонтакте (VK), реализованного с помощью библиотеки `vkbottle`. Бот предоставляет пользователю различные команды для получения расписания, установки напоминаний, а также для управления состоянием бота. Этот бот предназначен для работы в учебной среде, где он может информировать пользователей о текущих и предстоящих занятиях.

## Основные функции
- **Расписание**: Бот может предоставить расписание на сегодня, завтра, первую или вторую недели.
- **Напоминания**: Возможность установить напоминание о занятиях за определённое количество минут до начала.
- **Проверка текущего занятия**: Бот может определить, идёт ли сейчас занятие.
- **Ограничение количества сообщений**: Чтобы избежать спама, бот ограничивает количество сообщений, отправляемых за короткий промежуток времени.
- **Автообновление расписания**: Бот дважды в сутки обновляет расписание из файла `univBase.json`.
- **Контроль работы бота**: Авторизованные пользователи могут временно отключать или перезагружать бота.

## Файлы проекта
- **univBase.json**: JSON-файл, содержащий расписание занятий. Бот загружает данные из этого файла для работы с расписанием.
- **UserBot.py**: Основной файл с кодом бота, реализующим его функционал.
- **ParsingSite.py**: Парсинг файл с кодом для принятия расписания с сайта и обработки информации + создание локальной базы **univBase.json**.

## Установка
1. Библиотеки:
   pip install vkbottle nest_asyncio (**UserBot.py**)
   pip install requests beautifulsoup4 schedule (**ParsingSite.py**)
Настройте файл **UserBot.py**, добавив ваш токен VK API вместо `bot = Bot("ваш_токен")`, а также ID пользователей, которым будут дозволены скрыте команды.

## Запуск
Чтобы бот работал корректно, сначала запустите **ParsingSite.py** (он же и создаст локальную базу данных **univBase.json**).
Следом запускайте **UserBot.py** (с уже вставленным токеном и ID пользователей)
Чтобы запустить бота, выполните команду:

## Команды бота
Бот реагирует на команды, отправляемые в чат и ЛС. Некоторые команды доступны только авторизованным пользователям.

1. **Расписание**:
   - `"бот расписание сегодня"` или `"брс"` - расписание на сегодня.
   - `"бот расписание завтра"` или `"брз"` - расписание на завтра.
   - `"бот расписание 1 неделя"` или `"бр1"` - расписание на первую неделю.
   - `"бот расписание 2 неделя"` или `"бр2"` - расписание на вторую неделю.

2. **Напоминания**:
   - `"бот напомни [число]"` или `"бн [число]"` - установить напоминание о парах за указанное количество минут до её начала.
   - `"бот не напоминай"` или `"небн"` - отключить все напоминания.

3. **Текущая пара**:
   - `"бот пара сейчас"` или `"бпс"` - информация о текущем занятии.

4. **Меню команд**:
   - `"бот команды"` или `"бк"` - выводит список доступных команд.

5. **Управление ботом (только для авторизованных пользователей)**:
   - `"-off"` - выключает систему(ПК).
   - `"-srn"` - перезагружает систему(ПК).
   - `"-deaf"` - отключает функционал бота.
   - `"+deaf"` - включает функционал бота.

## Ограничение сообщений и чистка.
Бот может отправлять не более 8 сообщений за 3 минуты. При достижении лимита бот уведомит пользователя о необходимости сделать паузу перед следующими сообщениями.
Также по истечению 10 минут после отправки ботом сообщения он удаляет его из чата.

## Напоминания
Напоминания автоматически удаляются после их отправки. Если установлено несколько напоминаний, бот будет последовательно уведомлять о каждом предстоящем занятии в указанное время.

## Контакт
Для получения дополнительной информации или помощи, обращайтесь по указанным данным в профиле.
